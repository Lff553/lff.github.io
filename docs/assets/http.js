import{a}from"./vendor.js";const c=()=>"https://involved-robinett-lostandfound-c03d715f.koyeb.app/api",r=c();console.log("ğŸ”§ APIåœ°å€:",r);console.log("ğŸŒ åç«¯åœ°å€:",r);const o=a.create({baseURL:r,timeout:15e3});o.interceptors.request.use(e=>{const t=localStorage.getItem("user"),n=localStorage.getItem("isLoggedIn");if(t&&n==="true")try{const s=JSON.parse(t);s.studentId&&(e.headers["X-Student-Id"]=s.studentId)}catch(s){console.error("è§£æç”¨æˆ·æ•°æ®å¤±è´¥:",s)}return e},e=>Promise.reject(e));o.interceptors.response.use(e=>e,e=>{const t=e.response?.data?.message||e.response?.data?.errors||e.message||"è¯·æ±‚å¤±è´¥ï¼Œè¯·ç¨åå†è¯•";return Promise.reject(new Error(typeof t=="string"?t:JSON.stringify(t)))});export{o as h};
