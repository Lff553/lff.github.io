const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/MobileHome-BPriXDJG.js","assets/vue-BrREPx09.js","assets/EditItemModal-B_i6yN27.js","assets/http-Cfj5UhdQ.js","assets/vendor-R-lXtGyY.js","assets/EditItemModal-B9g9OjAU.css","assets/MobileHome-C_iVlXDe.css","assets/AdminDashboard-u4mkkrF-.js","assets/AdminDashboard-zZIKYIA6.css","assets/Login-BOaI454p.js","assets/Login-DWIiWUZD.css"])))=>i.map(i=>d[i]);
import{c as E,a as i,b as A,r as I,t as L,o as b,d as w,e as P,f as S,g as N}from"./vue-BrREPx09.js";(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))c(e);new MutationObserver(e=>{for(const t of e)if(t.type==="childList")for(const s of t.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&c(s)}).observe(document,{childList:!0,subtree:!0});function r(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerPolicy&&(t.referrerPolicy=e.referrerPolicy),e.crossOrigin==="use-credentials"?t.credentials="include":e.crossOrigin==="anonymous"?t.credentials="omit":t.credentials="same-origin",t}function c(e){if(e.ep)return;e.ep=!0;const t=r(e);fetch(e.href,t)}})();const R="/lff.github.io/images/1.png",O=(o,n)=>{const r=o.__vccOpts||o;for(const[c,e]of n)r[c]=e;return r},D={},q={class:"app-shell"},M={class:"app-content"},V={class:"app-footer"};function T(o,n){const r=I("RouterView");return b(),E("div",q,[n[1]||(n[1]=i("header",{class:"app-header"},[i("div",{class:"header-left"},[i("div",{class:"logo"},[i("img",{src:R,alt:"杭州电子科技大学信息工程学院校徽"})]),i("div",null,[i("h1",null,"杭州电子科技大学信息工程学院校园失物招领系统"),i("p",null,"Lost & Found · 温暖每一次团聚")])])],-1)),i("main",M,[A(r)]),i("footer",V,[i("span",null,"© "+L(new Date().getFullYear())+" 杭州电子科技大学信息工程学院",1),n[0]||(n[0]=i("span",null,"服务热线：0571-8691-8888",-1))])])}const B=O(D,[["render",T],["__scopeId","data-v-eefa97a2"]]),C="modulepreload",U=function(o){return"/lff.github.io/"+o},g={},f=function(n,r,c){let e=Promise.resolve();if(r&&r.length>0){let _=function(l){return Promise.all(l.map(d=>Promise.resolve(d).then(m=>({status:"fulfilled",value:m}),m=>({status:"rejected",reason:m}))))};document.getElementsByTagName("link");const s=document.querySelector("meta[property=csp-nonce]"),a=s?.nonce||s?.getAttribute("nonce");e=_(r.map(l=>{if(l=U(l),l in g)return;g[l]=!0;const d=l.endsWith(".css"),m=d?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${m}`))return;const u=document.createElement("link");if(u.rel=d?"stylesheet":C,d||(u.as="script"),u.crossOrigin="",u.href=l,a&&u.setAttribute("nonce",a),document.head.appendChild(u),d)return new Promise((v,y)=>{u.addEventListener("load",v),u.addEventListener("error",()=>y(new Error(`Unable to preload CSS for ${l}`)))})}))}function t(s){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=s,window.dispatchEvent(a),!a.defaultPrevented)throw s}return e.then(s=>{for(const a of s||[])a.status==="rejected"&&t(a.reason);return n().catch(t)})},F=()=>f(()=>import("./MobileHome-BPriXDJG.js"),__vite__mapDeps([0,1,2,3,4,5,6])),$=()=>f(()=>import("./AdminDashboard-u4mkkrF-.js"),__vite__mapDeps([7,1,2,3,4,5,8])),j=()=>f(()=>import("./Login-BOaI454p.js"),__vite__mapDeps([9,1,3,4,10])),p=w({history:P(),routes:[{path:"/login",name:"login",component:j,meta:{title:"登录 - 杭州电子科技大学信息工程学院校园失物招领系统",requiresGuest:!0}},{path:"/",name:"mobile",component:F,meta:{title:"移动端 - 杭州电子科技大学信息工程学院校园失物招领系统",requiresAuth:!0,allowedRoles:["STUDENT","ADMIN"]}},{path:"/admin",name:"admin",component:$,meta:{title:"管理端 - 杭州电子科技大学信息工程学院校园失物招领系统",requiresAuth:!0,allowedRoles:["ADMIN"]}},{path:"/:pathMatch(.*)*",redirect:"/"}],scrollBehavior(){return{top:0}}});p.beforeEach((o,n,r)=>{const c=localStorage.getItem("isLoggedIn")==="true",e=localStorage.getItem("user");let t=null;if(e)try{t=JSON.parse(e)}catch(s){console.error("解析用户数据失败:",s),localStorage.removeItem("user"),localStorage.removeItem("isLoggedIn")}if(o.meta.requiresGuest){if(c&&t){t.role==="ADMIN"?r("/admin"):r("/");return}r();return}if(o.meta.requiresAuth){if(!c||!t){r("/login");return}if(o.meta.allowedRoles&&o.meta.allowedRoles.length>0&&!o.meta.allowedRoles.includes(t.role)){t.role==="ADMIN"?r("/admin"):r("/");return}}r()});p.afterEach(o=>{o.meta?.title&&(document.title=o.meta.title)});const h=S(B);h.use(N());h.use(p);h.mount("#app");export{O as _};
