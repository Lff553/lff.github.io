const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/MobileHome.js","assets/vue.js","assets/EditItemModal.js","assets/http.js","assets/vendor.js","assets/EditItemModal.css","assets/MobileHome.css","assets/AdminDashboard.js","assets/AdminDashboard.css","assets/Login.js","assets/Login.css"])))=>i.map(i=>d[i]);
import{c as E,a,b as A,r as I,t as L,o as w,d as P,e as S,f as N,g as b}from"./vue.js";(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))c(e);new MutationObserver(e=>{for(const t of e)if(t.type==="childList")for(const s of t.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&c(s)}).observe(document,{childList:!0,subtree:!0});function r(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerPolicy&&(t.referrerPolicy=e.referrerPolicy),e.crossOrigin==="use-credentials"?t.credentials="include":e.crossOrigin==="anonymous"?t.credentials="omit":t.credentials="same-origin",t}function c(e){if(e.ep)return;e.ep=!0;const t=r(e);fetch(e.href,t)}})();const R="/images/1.png",O=(o,n)=>{const r=o.__vccOpts||o;for(const[c,e]of n)r[c]=e;return r},D={},q={class:"app-shell"},M={class:"app-content"},V={class:"app-footer"};function T(o,n){const r=I("RouterView");return w(),E("div",q,[n[1]||(n[1]=a("header",{class:"app-header"},[a("div",{class:"header-left"},[a("div",{class:"logo"},[a("img",{src:R,alt:"杭州电子科技大学信息工程学院校徽"})]),a("div",null,[a("h1",null,"杭州电子科技大学信息工程学院校园失物招领系统"),a("p",null,"Lost & Found · 温暖每一次团聚")])])],-1)),a("main",M,[A(r)]),a("footer",V,[a("span",null,"© "+L(new Date().getFullYear())+" 杭州电子科技大学信息工程学院",1),n[0]||(n[0]=a("span",null,"服务热线：0571-8691-8888",-1))])])}const B=O(D,[["render",T],["__scopeId","data-v-eefa97a2"]]),C="modulepreload",U=function(o){return"/"+o},g={},f=function(n,r,c){let e=Promise.resolve();if(r&&r.length>0){let _=function(i){return Promise.all(i.map(d=>Promise.resolve(d).then(m=>({status:"fulfilled",value:m}),m=>({status:"rejected",reason:m}))))};document.getElementsByTagName("link");const s=document.querySelector("meta[property=csp-nonce]"),l=s?.nonce||s?.getAttribute("nonce");e=_(r.map(i=>{if(i=U(i),i in g)return;g[i]=!0;const d=i.endsWith(".css"),m=d?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${i}"]${m}`))return;const u=document.createElement("link");if(u.rel=d?"stylesheet":C,d||(u.as="script"),u.crossOrigin="",u.href=i,l&&u.setAttribute("nonce",l),document.head.appendChild(u),d)return new Promise((v,y)=>{u.addEventListener("load",v),u.addEventListener("error",()=>y(new Error(`Unable to preload CSS for ${i}`)))})}))}function t(s){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=s,window.dispatchEvent(l),!l.defaultPrevented)throw s}return e.then(s=>{for(const l of s||[])l.status==="rejected"&&t(l.reason);return n().catch(t)})},F=()=>f(()=>import("./MobileHome.js"),__vite__mapDeps([0,1,2,3,4,5,6])),$=()=>f(()=>import("./AdminDashboard.js"),__vite__mapDeps([7,1,2,3,4,5,8])),j=()=>f(()=>import("./Login.js"),__vite__mapDeps([9,1,3,4,10])),p=P({history:S(),routes:[{path:"/login",name:"login",component:j,meta:{title:"登录 - 杭州电子科技大学信息工程学院校园失物招领系统",requiresGuest:!0}},{path:"/",name:"mobile",component:F,meta:{title:"移动端 - 杭州电子科技大学信息工程学院校园失物招领系统",requiresAuth:!0,allowedRoles:["STUDENT","ADMIN"]}},{path:"/admin",name:"admin",component:$,meta:{title:"管理端 - 杭州电子科技大学信息工程学院校园失物招领系统",requiresAuth:!0,allowedRoles:["ADMIN"]}},{path:"/:pathMatch(.*)*",redirect:"/"}],scrollBehavior(){return{top:0}}});p.beforeEach((o,n,r)=>{const c=localStorage.getItem("isLoggedIn")==="true",e=localStorage.getItem("user");let t=null;if(e)try{t=JSON.parse(e)}catch(s){console.error("解析用户数据失败:",s),localStorage.removeItem("user"),localStorage.removeItem("isLoggedIn")}if(o.meta.requiresGuest){if(c&&t){t.role==="ADMIN"?r("/admin"):r("/");return}r();return}if(o.meta.requiresAuth){if(!c||!t){r("/login");return}if(o.meta.allowedRoles&&o.meta.allowedRoles.length>0&&!o.meta.allowedRoles.includes(t.role)){t.role==="ADMIN"?r("/admin"):r("/");return}}r()});p.afterEach(o=>{o.meta?.title&&(document.title=o.meta.title)});const h=N(B);h.use(b());h.use(p);h.mount("#app");export{O as _};
